@model IEnumerable<Movie>

@functions {
    public string TruncateWords(string text, int wordLimit)
    {
        if (string.IsNullOrWhiteSpace(text)) return "";
        var words = text.Split(' ');
        if (words.Length <= wordLimit) return text;
        return string.Join(" ", words.Take(wordLimit)) + "...";
    }
}

@{
    ViewData["Title"] = "Home";
}

<div class="text-center mb-4">
    <h1 class="display-4">Discover Movies</h1>
    <p class="lead">Browse the latest additions and open any title to see more details.</p>
</div>

@if (!Model.Any())
{
    <div class="alert alert-info" role="alert">
        No movies are available yet. Check back soon!
    </div>
}
else
{
    <div class="row row-cols-1 row-cols-md-3 g-4">
        @foreach (var movie in Model)
        {
            @await Html.PartialAsync("_MovieCard", movie)
        }
    </div>
}